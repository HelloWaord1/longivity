(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7754:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(1838),r(6558),r(5866);var s=r(3191),a=r(8716),n=r(7922),o=r.n(n),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1838)),"/data/workspace/projects/longivity/web/src/app/page.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6558)),"/data/workspace/projects/longivity/web/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/data/workspace/projects/longivity/web/src/app/page.js"],m="/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7947:(e,t,r)=>{Promise.resolve().then(r.bind(r,9500))},9500:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(326),a=r(7577),n=r(434);function o({onSearch:e,placeholder:t="Search longevity research...",autoFocus:r=!1}){let[n,o]=(0,a.useState)(""),i=(0,a.useRef)(null);return(0,s.jsxs)("form",{onSubmit:t=>{t.preventDefault(),n.trim()&&e(n.trim())},className:"relative w-full max-w-xl mx-auto",children:[(0,s.jsxs)("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-tertiary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35",strokeLinecap:"round"})]}),s.jsx("input",{ref:i,type:"text",value:n,onChange:e=>o(e.target.value),placeholder:t,className:"w-full pl-11 pr-20 py-3 bg-bg-card border border-border rounded-lg text-sm text-primary placeholder:text-tertiary focus:outline-none focus:border-secondary transition-colors duration-150"}),s.jsx("button",{type:"submit",disabled:!n.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1.5 bg-accent text-bg text-xs font-medium rounded-md hover:bg-accent-hover disabled:opacity-30 disabled:cursor-not-allowed transition-colors duration-150",children:"Search"})]})}var i=r(7196),l=r(699);function c({text:e,className:t=""}){return s.jsx("div",{className:`prose-answer ${t}`,children:s.jsx("span",{dangerouslySetInnerHTML:{__html:e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/### (.*?)$/gm,"<h3>$1</h3>").replace(/## (.*?)$/gm,"<h2>$1</h2>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/^- (.*?)$/gm,"<li>$1</li>").replace(/^---$/gm,"<hr />").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br />"):""}})})}var d=r(1131),m=r(8866);let u=["How to boost NAD+ levels?","Best senolytics for age 30?","NMN vs NR — which is better?","Top supplements for brain health","Affordable longevity stack under $50","How does autophagy work?"];function p(){let[e,t]=(0,a.useState)("idle"),[r,p]=(0,a.useState)(null),[x,h]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[v,b]=(0,a.useState)(null),[y,j]=(0,a.useState)([]),w=(0,a.useRef)(null),N=async e=>{f(e),t("loading"),p(null),h(""),setTimeout(()=>{w.current?.scrollIntoView({behavior:"smooth",block:"start"})},100);try{let r=await (0,m.wh)(e);r.relevantProducts&&(r.relevantProducts=r.relevantProducts.map(e=>{let t=y.find(t=>t.name===e.name);return t?{...t,...e}:e})),p(r),h(function(e){if(!e)return"";if(e.relevantProducts&&e.relevantProducts.length>0){let t=`Found ${e.count} relevant product${1!==e.count?"s":""}:

`;for(let r of e.relevantProducts){t+=`### ${r.name}
**Evidence:** ${r.evidenceGrade} \xb7 **Risk:** ${r.riskProfile||"N/A"}

`,r.mechanisms&&r.mechanisms.length>0&&(t+=`**Mechanisms:** ${r.mechanisms.join(", ")}

`);let e="string"==typeof r.dosage?r.dosage:r.dosage?.standard;if(e&&(t+=`**Dosage:** ${e}

`),r.keyFindings&&r.keyFindings.length>0){for(let e of(t+=`**Key findings:**
`,r.keyFindings))t+=`- ${e}
`;t+="\n"}}return t+=`---

${e.note||"This is not medical advice. Consult a healthcare professional."}`}return`No specific products found for this query yet. Our research coverage is expanding.

Try searching for: **NMN, NAD+, rapamycin, senolytics, omega-3, taurine, spermidine, metformin, resveratrol,** or **urolithin A**.`}(r)),t("done")}catch(e){h("Something went wrong. Please try again."),t("done")}};return(0,s.jsxs)("div",{className:"animate-fade-in",children:["idle"===e&&(0,s.jsxs)("section",{className:"min-h-[80vh] flex flex-col items-center justify-center px-4 md:px-6",children:[(0,s.jsxs)("div",{className:"text-center mb-10 max-w-xl",children:[(0,s.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold text-primary leading-[1.1] tracking-tight mb-4",children:["Longevity research,",s.jsx("br",{}),"answered"]}),s.jsx("p",{className:"text-base text-secondary max-w-md mx-auto",children:"Evidence-graded supplements, protocols, and the latest science."})]}),s.jsx("div",{className:"w-full max-w-xl mx-auto",children:s.jsx(o,{onSearch:N,autoFocus:!0})}),s.jsx("div",{className:"mt-6 max-w-xl w-full",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:u.map(e=>s.jsx("button",{onClick:()=>N(e),className:"text-xs px-3 py-1.5 border border-border rounded-md text-tertiary hover:text-secondary hover:border-secondary/30 transition-colors duration-150",children:e},e))})}),s.jsx("div",{className:"mt-20 w-full max-w-xl",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{title:"Discover",desc:"Latest research digest",href:"/discover"},{title:"Products",desc:`${y.length||"48"}+ graded supplements`,href:"/products"},{title:"Stack Builder",desc:"Personalized protocol",href:"/stack"}].map(e=>(0,s.jsxs)(n.default,{href:e.href,className:"p-4 border border-border rounded-lg hover:bg-bg-hover transition-colors duration-150",children:[s.jsx("h3",{className:"text-sm font-medium text-primary mb-0.5",children:e.title}),s.jsx("p",{className:"text-xs text-tertiary",children:e.desc})]},e.href))})})]}),"idle"!==e&&s.jsx("div",{className:"sticky top-14 z-40 bg-bg border-b border-border py-3 px-4 md:px-6",children:s.jsx(o,{onSearch:N})}),"idle"!==e&&(0,s.jsxs)("section",{ref:w,className:"max-w-3xl mx-auto px-4 md:px-6 py-8",children:[s.jsx("h2",{className:"text-base font-medium text-primary mb-6",children:g}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:["loading"===e?(0,s.jsxs)("div",{className:"py-6",children:[s.jsx(d.Z,{text:"Searching knowledge base..."}),s.jsx("div",{className:"mt-6 space-y-3",children:[1,2,3].map(e=>s.jsx("div",{className:"h-3 bg-bg-hover rounded",style:{width:`${85-15*e}%`}},e))})]}):s.jsx("div",{children:s.jsx(c,{text:x})}),"done"===e&&(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-border",children:[s.jsx("p",{className:"text-xs text-tertiary uppercase tracking-wider font-medium mb-3",children:"Related"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(function(e,t){if(t?.relevantProducts?.length>0){let e=t.relevantProducts[0];return[`Mechanisms of ${e.name}?`,`Best dosage for ${e.name}?`,`What combines well with ${e.name}?`]}return["What are the side effects?","How does this compare to alternatives?","What does the latest research say?"]})(0,r).map((e,t)=>s.jsx("button",{onClick:()=>N(e),className:"text-xs px-3 py-1.5 border border-border rounded-md text-secondary hover:text-primary hover:border-secondary/30 transition-colors duration-150",children:e},t))}),s.jsx("button",{onClick:()=>{t("idle"),p(null),h("")},className:"mt-4 text-xs text-tertiary hover:text-accent transition-colors duration-150",children:"← New search"})]})]}),"done"===e&&r?.relevantProducts?.length>0&&s.jsx("aside",{className:"lg:w-64 shrink-0",children:(0,s.jsxs)("div",{className:"lg:sticky lg:top-32",children:[s.jsx("p",{className:"text-xs text-tertiary uppercase tracking-wider font-medium mb-3",children:"Sources"}),s.jsx("div",{className:"space-y-2",children:r.relevantProducts.map((e,t)=>s.jsx(i.Z,{product:e,onClick:b,compact:!0},t))})]})})]})]}),v&&s.jsx(l.Z,{product:v,onClose:()=>b(null)})]})}},1131:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326);function a({text:e="Loading..."}){return(0,s.jsxs)("div",{className:"flex items-center gap-3 text-secondary text-sm",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border border-t-secondary rounded-full animate-spin"}),s.jsx("span",{children:e})]})}},8866:(e,t,r)=>{"use strict";r.d(t,{Vs:()=>n,wh:()=>a});let s="https://longivity-production.up.railway.app";async function a(e){let t=await fetch(`${s}/consult`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!t.ok)throw Error("Failed to consult");return t.json()}async function n({budget:e,age:t,goals:r}){let a=await fetch(`${s}/recommend`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({budget:e,age:t,goals:r})});if(!a.ok)throw Error("Failed to get recommendation");return a.json()}},1838:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/data/workspace/projects/longivity/web/src/app/page.js#default`)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[24,101],()=>r(7754));module.exports=s})();